'use strict';

var format = require('util').format;

var sparkles = require('sparkles');

var levels = [
  'debug',
  'info',
  'warn',
  'error',
];

function getLogger(namespace){
  var logger = sparkles(namespace);

<<<<<<< HEAD
  levels.forEach(function(level) {
    logger[level] = makeLogLevel(logger, level);
=======
  levels.forEach(function(level){
    logger[level] = makeLogLevel(level);
>>>>>>> 3f41525b79b5bf6fa6d0d059b0aeb7b10573dca9
  });

  return logger;
}

<<<<<<< HEAD
function makeLogLevel(self, level) {
  return function(msg) {
    if (typeof msg === 'string') {
=======
function makeLogLevel(level){
  return function(msg){
    if(typeof msg === 'string'){
>>>>>>> 3f41525b79b5bf6fa6d0d059b0aeb7b10573dca9
      msg = format.apply(null, arguments);
    }

    this.emit(level, msg);
  };
}

module.exports = getLogger;
